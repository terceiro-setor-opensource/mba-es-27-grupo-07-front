<main class="cc-main-container">
  <app-header title="meu cadastro" [link]="'/login'"></app-header>

  <section class="cc-login-section-input">
    <form [formGroup]="userForm">
      <mat-form-field appearance="outline" class="custom-input">
        <mat-label>nome</mat-label>
        <input matInput type="text" id="name" formControlName="name" required />
        <mat-error *ngIf="userForm.get('name')?.hasError('required')">
          *campo obrigatório
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="custom-input">
        <mat-label>e-mail</mat-label>
        <input
          matInput
          type="email"
          id="email"
          formControlName="email"
          required
        />
        <mat-error *ngIf="userForm.get('email')?.hasError('required')">
          *campo obrigatório
        </mat-error>
        <mat-error *ngIf="userForm.get('email')?.hasError('email')">
          *formato de e-mail inválido
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="custom-input">
        <mat-label>whatsapp</mat-label>
        <input
          matInput
          mask="(00) 00000-0000"
          type="text"
          id="phone"
          formControlName="phone"
          required
        />
        <mat-error *ngIf="userForm.get('phone')?.hasError('required')">
          *campo obrigatório
        </mat-error>
        <mat-error *ngIf="userForm.get('phone')?.hasError('pattern')">
          *formato de telefone inválido
        </mat-error>
      </mat-form-field>

      <div class="bloco-apartamento">
        <mat-form-field appearance="outline" class="custom-input">
          <mat-label>bloco</mat-label>
          <input
            matInput
            type="text"
            id="block"
            formControlName="block"
            required
          />
          <mat-error *ngIf="userForm.get('block')?.hasError('required')">
            *campo obrigatório
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="custom-input">
          <mat-label>apartamento</mat-label>
          <input
            matInput
            type="text"
            id="apartment"
            formControlName="apartment"
            required
          />
          <mat-error *ngIf="userForm.get('apartment')?.hasError('required')">
            *campo obrigatório
          </mat-error>
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline" class="custom-input">
        <mat-label>senha</mat-label>
        <input
          matInput
          type="password"
          id="senha"
          [type]="isPasswordVisible ? 'text' : 'password'"
          formControlName="password"
          required
        />
        <span
          class="material-symbols-outlined password-icon"
          (click)="togglePasswordVisibility()"
          style="cursor: pointer"
        >
          {{ isPasswordVisible ? "visibility_off" : "visibility" }}
        </span>
        <mat-error *ngIf="userForm.get('password')?.hasError('required')">
          *campo obrigatório
        </mat-error>
        <mat-error *ngIf="userForm.get('password')?.hasError('pattern')">
          *a senha deve ter pelo menos 8 caracteres, incluindo letras
          maiúsculas, minúsculas e números
        </mat-error>
      </mat-form-field>
    </form>
  </section>

  <button
    [disabled]="isLoading"
    class="cc-secondary-button acessar-button"
    mat-flat-button
    (click)="save()"
  >
    cadastrar
  </button>
</main>
